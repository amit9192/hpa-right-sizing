apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-cm
  namespace: argocd
  labels:
    app.kubernetes.io/name: argocd-cm
    app.kubernetes.io/part-of: argocd
data:
  # Configure ArgoCD to ignore differences in HPA and ScaledObject resources
  # This prevents auto-rightsizing changes from causing sync drift
  resource.customizations.ignoreDifferences.all: |
    # Ignore changes made by these field managers across ALL resources
    managedFieldsManagers:
    - komodor-rightsizing-controller  # Your auto-rightsizing controller

